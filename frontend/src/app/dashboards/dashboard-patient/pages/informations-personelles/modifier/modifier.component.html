<header class="header">
  Apporter des modifications
</header>

<div class="flex items-center justify-center h-full px-6 py-5 bg-background-gray">
<form [formGroup]="dossierForm" (ngSubmit)="onSubmit()" class="flex flex-col items-end gap-3">
  <div class="flex w-full gap-5">
    <div class="flex flex-col flex-1 gap-2">
      <h3 class="form-category">Informations du Patient</h3>
      <div class="white-card">
        <div>
          <label for="nss" class="label">NSS</label>
          <input id="nss" formControlName="nss" type="text" class="input" readonly  />
        </div>

        <div class="flex justify-between gap-2">
          <div>
            <label for="nom" class="label">Nom</label>
            <input id="nom" formControlName="nom" type="text" class="input" readonly />
          </div>
          <div>
            <label for="prenom" class="label">Prenom</label>
            <input id="prenom" formControlName="prenom" type="text" class="input" readonly />
          </div>
        </div>

        <div>
          <label for="numTel" class="label">Numero Telephone</label>
          <input id="numTel" formControlName="numTel" type="text" class="input" />
          <div *ngIf="dossierForm.get('numTel')?.touched && dossierForm.get('numTel')?.invalid" class="error">
            {{ getNumTelError() }}
          </div>
        </div>

        <div>
          <label for="dateNaiss" class="label">Date de Naissance</label>
          <input id="dateNaiss" formControlName="dateNaiss" type="date" class="input" readonly />
        </div>

        <div>
          <label for="adresse" class="label">Adresse</label>
          <input id="adresse" formControlName="adresse" type="text" class="input" />
          <div *ngIf="dossierForm.get('adresse')?.touched && dossierForm.get('adresse')?.invalid" class="error">
            {{ getAdresseError() }}
          </div>
        </div>

        <div>
          <label for="medecinTraitant" class="label">Medecin Traitant</label>
          <input id="medecinTraitant" formControlName="medecinTraitant" type="text" class="input" readonly />
        </div>
      </div>
    </div>

    <div class="flex flex-col justify-between flex-1">
      <div class="flex flex-col gap-2">
        <h3 class="form-category">Personne à Contacter</h3>
        <div class="white-card">
          <div class="flex justify-between gap-2">
            <div>
              <label for="nomContact" class="label">Nom</label>
              <input id="nomContact" formControlName="nomContact" type="text" class="input" />
              <div *ngIf="dossierForm.get('nomContact')?.touched && dossierForm.get('nomContact')?.invalid" class="error">
                {{ getNomContactError() }}
              </div>
            </div>
            <div>
              <label for="prenomContact" class="label">Prenom</label>
              <input id="prenomContact" formControlName="prenomContact" type="text" class="input" />
              <div *ngIf="dossierForm.get('prenomContact')?.touched && dossierForm.get('prenomContact')?.invalid" class="error">
                {{ getPrenomContactError() }}
              </div>
            </div>
          </div>

          <div>
            <label for="numTelContact" class="label">Numero Telephone</label>
            <input id="numTelContact" formControlName="numTelContact" type="text" class="input" />
            <div *ngIf="dossierForm.get('numTelContact')?.touched && dossierForm.get('numTelContact')?.invalid" class="error">
              {{ getNumTelContactError() }}
            </div>
          </div>
        </div>
      </div>

      <div class="flex flex-col gap-2">
        <h3 class="form-category">Informations de la Mutuelle</h3>
        <div class="white-card">
          <div>
            <label for="nomMutuelle" class="label">Nom Mutuelle</label>
            <input id="nomMutuelle" formControlName="nomMutuelle" type="text" class="input" />
          </div>

          <div>
            <label for="numAdherent" class="label">Numero Adherent</label>
            <input id="numAdherent" formControlName="numAdherent" type="text" class="input" />
            <div *ngIf="dossierForm.get('numAdherent')?.touched && dossierForm.get('numAdherent')?.invalid" class="error">
              {{ getNumAdherentError() }}
            </div>
          </div>

          <div>
            <label for="typeCouverture" class="label">Type de couverture</label>
            <select id="typeCouverture" formControlName="typeCouverture" class="input">
              <option value="Partielle">Partielle</option>
              <option value="Complète">Complète</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>

  <button type="submit" [disabled]="dossierForm.invalid" class="button-main">
    Sauvegarder
  </button>
</form> <!-- Make sure this closing tag is the last one within the form block -->
</div>
